name: Functional Tests
on: [push, pull_request]
env:
  CI: true

jobs:
  functional-chromium:
    name: Chromium Functional Tests
    runs-on: ubuntu-latest
    container:
      image: arjun27/playwright-bionic:0.1.0
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - run: npx yarn && BROWSER=chromium npx yarn test:functional

  functional-firefox:
    name: Firefox Functional Tests
    runs-on: ubuntu-latest
    container:
      image: arjun27/playwright-bionic:0.1.0
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - run: npx yarn && BROWSER=firefox npx yarn test:functional

  functional-webkit:
    name: WebKit Functional Tests
    runs-on: ubuntu-latest
    container:
      image: arjun27/playwright-bionic:0.1.0
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - run: npx yarn && BROWSER=webkit npx yarn test:functional

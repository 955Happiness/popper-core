name: Functional Tests
on: [push, pull_request]
env:
  CI: true

jobs:
  functional-chromium:
    name: Chromium Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: npm i && npm run test:functional
        env:
          BROWSER: chromium

  functional-firefox:
    name: Firefox Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: npm i && npm run test:functional
        env:
          BROWSER: firefox

  functional-webkit:
    name: WebKit Functional Tests
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - uses: actions/setup-node@v1
      - uses: microsoft/playwright-github-action@v1
      - run: npm i && npm run test:functional
        env:
          BROWSER: webkit
